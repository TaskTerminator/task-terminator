'use strict';

angular.module('terminatorApp').controller('TemplatesCtrl', function ($scope, TemplatesSvc, $state, $stateParams, CompanySvc) {

	$scope.templateID = $stateParams.id;

	$scope.newTask = {
		assignment: {
			departments: '',
			positions: '',
			employees: ''
		}
	};

	$scope.newTasksArr = [];

	$scope.getCompany = function () {
		CompanySvc.getCompanies().then(function (res) {
			console.log(res);
			$scope.companies = res.data;
		});
	}();

	$scope.saveTask = function (newTask) {
		console.log(newTask);
		$scope.newTasksArr.push(newTask);
		console.log($scope.newTasksArr);
		$scope.newTask = {
			assignment: {
				departments: '',
				positions: '',
				employees: ''
			}
		};
		// $scope.selectedAssign = null; tryig to clear drop downs with this.
	};

	$scope.addTasks = function (newTasksArr) {
		TemplatesSvc.postTasks(newTasksArr, $scope.templateID).then(function (results) {
			console.log("Tasks added successfully", results);
			// $state.go('projects');
		});
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1YmxpYy9jb250cm9sbGVycy9UZW1wbGF0ZXNDdHJsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBTyxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxVQUFVLENBQUMsZUFBZSxFQUFFLFVBQVMsTUFBTSxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLFVBQVUsRUFBRTs7QUFFNUgsT0FBTSxDQUFDLFVBQVUsR0FBRyxZQUFZLENBQUMsRUFBRSxDQUFDOztBQUVwQyxPQUFNLENBQUMsT0FBTyxHQUFHO0FBQ2hCLFlBQVUsRUFBRTtBQUNYLGNBQVcsRUFBRSxFQUFFO0FBQ2YsWUFBUyxFQUFFLEVBQUU7QUFDYixZQUFTLEVBQUUsRUFBRTtHQUNiO0VBQ0QsQ0FBQzs7QUFFRixPQUFNLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQzs7QUFFeEIsT0FBTSxDQUFDLFVBQVUsR0FBRyxZQUFXO0FBQzNCLFlBQVUsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBUyxHQUFHLEVBQUU7QUFDM0MsVUFBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtBQUNoQixTQUFNLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7R0FDN0IsQ0FBQyxDQUFDO0VBQ0osRUFBRSxDQUFDOztBQUVOLE9BQU0sQ0FBQyxRQUFRLEdBQUcsVUFBUyxPQUFPLEVBQUU7QUFDbkMsU0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNyQixRQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNqQyxTQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUNoQyxRQUFNLENBQUMsT0FBTyxHQUFHO0FBQ2hCLGFBQVUsRUFBRTtBQUNYLGVBQVcsRUFBRSxFQUFFO0FBQ2YsYUFBUyxFQUFFLEVBQUU7QUFDYixhQUFTLEVBQUUsRUFBRTtJQUNiO0dBQ0Q7O0FBQUMsRUFFRixDQUFBOztBQUVELE9BQU0sQ0FBQyxRQUFRLEdBQUcsVUFBUyxXQUFXLEVBQUU7QUFDdkMsY0FBWSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFTLE9BQU8sRUFBRTtBQUM3RSxVQUFPLENBQUMsR0FBRyxDQUFDLDBCQUEwQixFQUFFLE9BQU8sQ0FBQzs7QUFBQyxHQUVqRCxDQUFDLENBQUE7RUFDRixDQUFBO0NBQ0QsQ0FBQyxDQUFDIiwiZmlsZSI6InB1YmxpYy9jb250cm9sbGVycy9UZW1wbGF0ZXNDdHJsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ3Rlcm1pbmF0b3JBcHAnKS5jb250cm9sbGVyKCdUZW1wbGF0ZXNDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBUZW1wbGF0ZXNTdmMsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBDb21wYW55U3ZjKSB7XG5cblx0JHNjb3BlLnRlbXBsYXRlSUQgPSAkc3RhdGVQYXJhbXMuaWQ7XG5cblx0JHNjb3BlLm5ld1Rhc2sgPSB7XG5cdFx0YXNzaWdubWVudDoge1xuXHRcdFx0ZGVwYXJ0bWVudHM6ICcnLFxuXHRcdFx0cG9zaXRpb25zOiAnJyxcblx0XHRcdGVtcGxveWVlczogJydcblx0XHR9XG5cdH07XG5cblx0JHNjb3BlLm5ld1Rhc2tzQXJyID0gW107XG5cblx0JHNjb3BlLmdldENvbXBhbnkgPSBmdW5jdGlvbigpIHtcblx0ICAgIENvbXBhbnlTdmMuZ2V0Q29tcGFuaWVzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcblx0ICAgICAgY29uc29sZS5sb2cocmVzKVxuXHQgICAgICAkc2NvcGUuY29tcGFuaWVzID0gcmVzLmRhdGE7XG5cdCAgICB9KTtcbiAgXHR9KCk7XG5cblx0JHNjb3BlLnNhdmVUYXNrID0gZnVuY3Rpb24obmV3VGFzaykge1xuXHRcdGNvbnNvbGUubG9nKG5ld1Rhc2spO1xuXHRcdCRzY29wZS5uZXdUYXNrc0Fyci5wdXNoKG5ld1Rhc2spO1xuXHRcdGNvbnNvbGUubG9nKCRzY29wZS5uZXdUYXNrc0Fycik7XG5cdFx0JHNjb3BlLm5ld1Rhc2sgPSB7XG5cdFx0XHRhc3NpZ25tZW50OiB7XG5cdFx0XHRcdGRlcGFydG1lbnRzOiAnJyxcblx0XHRcdFx0cG9zaXRpb25zOiAnJyxcblx0XHRcdFx0ZW1wbG95ZWVzOiAnJ1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0Ly8gJHNjb3BlLnNlbGVjdGVkQXNzaWduID0gbnVsbDsgdHJ5aWcgdG8gY2xlYXIgZHJvcCBkb3ducyB3aXRoIHRoaXMuXG5cdH1cblxuXHQkc2NvcGUuYWRkVGFza3MgPSBmdW5jdGlvbihuZXdUYXNrc0Fycikge1xuXHRcdFRlbXBsYXRlc1N2Yy5wb3N0VGFza3MobmV3VGFza3NBcnIsICRzY29wZS50ZW1wbGF0ZUlEKS50aGVuKGZ1bmN0aW9uKHJlc3VsdHMpIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiVGFza3MgYWRkZWQgc3VjY2Vzc2Z1bGx5XCIsIHJlc3VsdHMpO1xuXHRcdFx0Ly8gJHN0YXRlLmdvKCdwcm9qZWN0cycpO1xuXHRcdH0pXG5cdH1cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
