'use strict';

var mongoose = require("mongoose");

var allowedDays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
var allowedFrequencies = ["Triggered", "Scheduled"];
var allowedIntervalTypes = ['Daily', 'Daily Business Days', 'Weekly', 'Bi-Weekly', 'Monthly', 'Semi-Monthly', 'Quarterly', 'Annually'];
var allowedMonthlyIntervals = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
var allowedAnnuallyIntervals = ["First Day of the Year", "Last Day of the Year", "Any Day of the year", "In a Particular Month", "In a Particular Quarter", "# of Days From Start", "# of Days Before End"];
var allowedWeeklyIntervals = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday', 'Any'];
var allowedSemiMonthlyIntervals = ["1st", "2nd", "3rd", "4th", "5th", "6th", "7th", "8th", "9th", "10th", "11th", "12th", "13th", "14th", "15th"];
var allowedQuarterlyIntervals = ["First Day of the Quarter", "Last Day of the Quarter", "# Days from Start", "# Days from End", "Any"];

//This is the model for project template creation.
var templateSchema = new mongoose.Schema({
  //The name will be the same for all projects generated from the template
  name: { type: String },
  //Description is the  unique visual identifies of a project on the front end
  description: { type: String },
  tasks: [{ type: String, ref: 'TemplateTask' }],
  tasksCompleted: { type: Number, default: 0 },
  overdue: { type: Boolean, default: false },
  setup: {
    created: { type: Date, default: new Date() },
    type: { type: String, enum: ['Single', 'Triggered', 'Scheduled'] },
    //Pick one of these two frequency options
    // frequency:  {
    //     byDate: {type: Boolean},
    //     byInterval: {type: Boolean}
    // },
    frequency: { type: String, enum: ['By Date', 'By Interval'] },
    //Due date will require function based on user selection. Will be stand in for next instance or selected day.
    dueDate: {
      actual: { type: Date, default: new Date() },
      anticipated: { type: Date, default: new Date() }
    },
    interval: {
      type: { type: String, enum: allowedIntervalTypes },
      weeklyInterval: { type: String, enum: allowedWeeklyIntervals },
      biWeeklyInterval: { type: String, enum: allowedWeeklyIntervals },
      monthlyInterval: {
        selection: { type: String, enum: ["# of Days From Start", "# of Days Before End", "First Day of Month", "Last Day of Month"] },
        fromBeginning: {},
        fromEnd: {}
      },
      annualInterval: {
        selection: { type: String, enum: allowedAnnuallyIntervals },
        fromBeginning: {},
        fromEnd: {},
        selectMonth: { type: String, enum: allowedMonthlyIntervals },
        selectQuarter: { type: Number }
      },
      quarterlyInterval: {
        selection: { type: String, enum: allowedQuarterlyIntervals },
        fromBeginning: {},
        fromEnd: {}
      },
      semiMonthlyInterval: {
        selection: { type: String, enum: allowedSemiMonthlyIntervals },
        fromBeginning: {},
        fromEnd: {}
      }
    },
    critical: { type: Boolean, default: false }
  }

});

module.exports = mongoose.model('Template', templateSchema);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlcl9hc3NldHMvbW9kZWxzL1RlbXBsYXRlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDOztBQUVyQyxJQUFNLFdBQVcsR0FBRyxDQUFDLFFBQVEsRUFBQyxRQUFRLEVBQUMsU0FBUyxFQUFDLFdBQVcsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQzdGLElBQU0sa0JBQWtCLEdBQUcsQ0FBQyxXQUFXLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDdEQsSUFBTSxvQkFBb0IsR0FBRyxDQUFDLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUUsV0FBVyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQ3pJLElBQU0sdUJBQXVCLEdBQUcsQ0FBQyxTQUFTLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQzNKLElBQU0sd0JBQXdCLEdBQUcsQ0FBQyx1QkFBdUIsRUFBRSxzQkFBc0IsRUFBRSxxQkFBcUIsRUFBRSx1QkFBdUIsRUFBRSx5QkFBeUIsRUFBRSxzQkFBc0IsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO0FBQzlNLElBQU0sc0JBQXNCLEdBQUcsQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDckgsSUFBTSwyQkFBMkIsR0FBRyxDQUFDLEtBQUssRUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUMsS0FBSyxFQUFDLEtBQUssRUFBQyxLQUFLLEVBQUMsS0FBSyxFQUFD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LEVBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFDO0dBQzVDOztDQUVGLENBQUMsQ0FBQzs7QUFFSCxNQUFNLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLGNBQWMsQ0FBQyxDQUFDIiwiZmlsZSI6InNlcnZlcl9hc3NldHMvbW9kZWxzL1RlbXBsYXRlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5cbmNvbnN0IGFsbG93ZWREYXlzID0gWydTdW5kYXknLCdNb25kYXknLCdUdWVzZGF5JywnV2VkbmVzZGF5JywnVGh1cnNkYXknLCdGcmlkYXknLCdTYXR1cmRheSddO1xuY29uc3QgYWxsb3dlZEZyZXF1ZW5jaWVzID0gW1wiVHJpZ2dlcmVkXCIsIFwiU2NoZWR1bGVkXCJdO1xuY29uc3QgYWxsb3dlZEludGVydmFsVHlwZXMgPSBbJ0RhaWx5JywgJ0RhaWx5IEJ1c2luZXNzIERheXMnLCAnV2Vla2x5JywgJ0JpLVdlZWtseScsICdNb250aGx5JywgJ1NlbWktTW9udGhseScsICdRdWFydGVybHknLCAnQW5udWFsbHknXTtcbmNvbnN0IGFsbG93ZWRNb250aGx5SW50ZXJ2YWxzID0gWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ107XG5jb25zdCBhbGxvd2VkQW5udWFsbHlJbnRlcnZhbHMgPSBbXCJGaXJzdCBEYXkgb2YgdGhlIFllYXJcIiwgXCJMYXN0IERheSBvZiB0aGUgWWVhclwiLCBcIkFueSBEYXkgb2YgdGhlIHllYXJcIiwgXCJJbiBhIFBhcnRpY3VsYXIgTW9udGhcIiwgXCJJbiBhIFBhcnRpY3VsYXIgUXVhcnRlclwiLCBcIiMgb2YgRGF5cyBGcm9tIFN0YXJ0XCIsIFwiIyBvZiBEYXlzIEJlZm9yZSBFbmRcIl07XG5jb25zdCBhbGxvd2VkV2Vla2x5SW50ZXJ2YWxzID0gWydNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5JywgJ1N1bmRheScsICdBbnknXTtcbmNvbnN0IGFsbG93ZWRTZW1pTW9udGhseUludGVydmFscyA9IFtcIjFzdFwiLFwiMm5kXCIsIFwiM3JkXCIsIFwiNHRoXCIsIFwiNXRoXCIsXCI2dGhcIixcIjd0aFwiLFwiOHRoXCIsXCI5dGhcIixcIjEwdGhcIixcIjExdGhcIixcIjEydGhcIixcIjEzdGhcIixcIjE0dGhcIixcIjE1dGhcIl07XG5jb25zdCBhbGxvd2VkUXVhcnRlcmx5SW50ZXJ2YWxzID0gW1wiRmlyc3QgRGF5IG9mIHRoZSBRdWFydGVyXCIsIFwiTGFzdCBEYXkgb2YgdGhlIFF1YXJ0ZXJcIiwgXCIjIERheXMgZnJvbSBTdGFydFwiLCBcIiMgRGF5cyBmcm9tIEVuZFwiLCBcIkFueVwiIF07XG5cbi8vVGhpcyBpcyB0aGUgbW9kZWwgZm9yIHByb2plY3QgdGVtcGxhdGUgY3JlYXRpb24uXG5jb25zdCB0ZW1wbGF0ZVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAvL1RoZSBuYW1lIHdpbGwgYmUgdGhlIHNhbWUgZm9yIGFsbCBwcm9qZWN0cyBnZW5lcmF0ZWQgZnJvbSB0aGUgdGVtcGxhdGVcbiAgbmFtZTp7dHlwZTpTdHJpbmd9LFxuICAvL0Rlc2NyaXB0aW9uIGlzIHRoZSAgdW5pcXVlIHZpc3VhbCBpZGVudGlmaWVzIG9mIGEgcHJvamVjdCBvbiB0aGUgZnJvbnQgZW5kXG4gIGRlc2NyaXB0aW9uOiB7dHlwZTpTdHJpbmd9LFxuICB0YXNrczogW1xuICAgICAgICB7dHlwZTogU3RyaW5nICwgcmVmOiAnVGVtcGxhdGVUYXNrJ31cbiAgICAgICAgICBdLFxuICAgIHRhc2tzQ29tcGxldGVkOiB7dHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwfSxcbiAgICBvdmVyZHVlOiB7dHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2V9LFxuICBzZXR1cDoge1xuICAgICAgY3JlYXRlZDoge3R5cGU6IERhdGUsIGRlZmF1bHQ6IG5ldyBEYXRlKCl9LFxuICAgICAgdHlwZTogIHt0eXBlOiBTdHJpbmcsIGVudW06IFsnU2luZ2xlJywnVHJpZ2dlcmVkJywgJ1NjaGVkdWxlZCddfSxcbiAgICAgIC8vUGljayBvbmUgb2YgdGhlc2UgdHdvIGZyZXF1ZW5jeSBvcHRpb25zXG4gICAgICAvLyBmcmVxdWVuY3k6ICB7XG4gICAgICAvLyAgICAgYnlEYXRlOiB7dHlwZTogQm9vbGVhbn0sXG4gICAgICAvLyAgICAgYnlJbnRlcnZhbDoge3R5cGU6IEJvb2xlYW59XG4gICAgICAvLyB9LFxuICAgICAgZnJlcXVlbmN5OiAge3R5cGU6IFN0cmluZywgZW51bTogWydCeSBEYXRlJywnQnkgSW50ZXJ2YWwnXX0sXG4gICAgICAvL0R1ZSBkYXRlIHdpbGwgcmVxdWlyZSBmdW5jdGlvbiBiYXNlZCBvbiB1c2VyIHNlbGVjdGlvbi4gV2lsbCBiZSBzdGFuZCBpbiBmb3IgbmV4dCBpbnN0YW5jZSBvciBzZWxlY3RlZCBkYXkuXG4gICAgICBkdWVEYXRlOiB7XG4gICAgICAgIGFjdHVhbDoge3R5cGU6RGF0ZSwgZGVmYXVsdDogbmV3IERhdGUoKX0sXG4gICAgICAgIGFudGljaXBhdGVkOiB7dHlwZTpEYXRlLCBkZWZhdWx0OiBuZXcgRGF0ZSgpfSxcbiAgICAgIH0sXG4gICAgICBpbnRlcnZhbCA6IHtcbiAgICAgICAgICB0eXBlOiB7dHlwZTogU3RyaW5nLCBlbnVtOiBhbGxvd2VkSW50ZXJ2YWxUeXBlc30sXG4gICAgICAgICAgd2Vla2x5SW50ZXJ2YWw6IHt0eXBlOiBTdHJpbmcsIGVudW06IGFsbG93ZWRXZWVrbHlJbnRlcnZhbHN9LFxuICAgICAgICAgIGJpV2Vla2x5SW50ZXJ2YWw6IHt0eXBlOiBTdHJpbmcsIGVudW06IGFsbG93ZWRXZWVrbHlJbnRlcnZhbHN9LFxuICAgICAgICAgIG1vbnRobHlJbnRlcnZhbDoge1xuICAgICAgICAgICAgc2VsZWN0aW9uOiB7dHlwZTogU3RyaW5nLCBlbnVtOiBbXCIjIG9mIERheXMgRnJvbSBTdGFydFwiLCBcIiMgb2YgRGF5cyBCZWZvcmUgRW5kXCIsIFwiRmlyc3QgRGF5IG9mIE1vbnRoXCIsIFwiTGFzdCBEYXkgb2YgTW9udGhcIl19LFxuICAgICAgICAgICAgZnJvbUJlZ2lubmluZzoge30sXG4gICAgICAgICAgICBmcm9tRW5kOiB7fVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYW5udWFsSW50ZXJ2YWw6IHtcbiAgICAgICAgICAgIHNlbGVjdGlvbjogIHt0eXBlOiBTdHJpbmcsIGVudW06IGFsbG93ZWRBbm51YWxseUludGVydmFsc30sXG4gICAgICAgICAgICBmcm9tQmVnaW5uaW5nOiB7fSxcbiAgICAgICAgICAgIGZyb21FbmQ6IHt9LFxuICAgICAgICAgICAgc2VsZWN0TW9udGg6IHt0eXBlOiBTdHJpbmcsIGVudW06IGFsbG93ZWRNb250aGx5SW50ZXJ2YWxzfSxcbiAgICAgICAgICAgIHNlbGVjdFF1YXJ0ZXI6IHt0eXBlOiBOdW1iZXJ9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBxdWFydGVybHlJbnRlcnZhbDoge1xuICAgICAgICAgICAgICBzZWxlY3Rpb246e3R5cGU6U3RyaW5nLCBlbnVtOiBhbGxvd2VkUXVhcnRlcmx5SW50ZXJ2YWxzfSxcbiAgICAgICAgICAgICAgZnJvbUJlZ2lubmluZzoge30sXG4gICAgICAgICAgICAgIGZyb21FbmQ6IHt9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZW1pTW9udGhseUludGVydmFsOiB7XG4gICAgICAgICAgICBzZWxlY3Rpb246IHt0eXBlOiBTdHJpbmcsIGVudW06IGFsbG93ZWRTZW1pTW9udGhseUludGVydmFsc30sXG4gICAgICAgICAgICBmcm9tQmVnaW5uaW5nOiB7fSxcbiAgICAgICAgICAgIGZyb21FbmQ6IHt9XG4gICAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNyaXRpY2FsOiB7dHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2V9XG4gIH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ1RlbXBsYXRlJywgdGVtcGxhdGVTY2hlbWEpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
